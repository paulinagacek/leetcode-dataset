class Solution:
    def flatten(self, head: \'Optional[Node]\') -> \'Optional[Node]\':
        if head is None:
            return
        c = head
        while c:
            if c.child is not None:
                ch = c.child
                ch.prev = c
                t = c.next
                c.next = c.child
                c.child = None
                if t is not None:
                    while ch.next:
                        ch = ch.next
                    t.prev = ch 
                    ch.next = t
            c = c.next
        return head