class Solution:
    def arrayNesting(self, nums: List[int]) -> int:
        maxlen = 0
		
		#reference array to mark whether an index has been visited or not
        ref = [False for _ in range(len(nums))]
        
		for i in range(len(ref)):
			#we maintain a visited set for the current nesting -> check the while loop to understand usage
            visited = set()
            
			#if we already have visited this element, we do not search for the nesting again
			if ref[i]==True:
                continue
            
			#dummy variable to store the starting index of current nesting
			j = i
			
            while(True):
                k= nums[j]

				#we mark the index as visited so that when we come across this element in the for loop,
				#we simply continue
				
                ref[j] = True
                
				#if we have already seen this element in the current nesting, we break (1 - refer below)
				if k in visited:
                    break
                visited.add(k)
                j = k
            maxlen = max(maxlen,len(visited))
        
        return maxlen