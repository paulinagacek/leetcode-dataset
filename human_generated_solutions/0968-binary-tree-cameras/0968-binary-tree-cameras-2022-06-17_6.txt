class Solution: 
    def minCameraCover(self, root: Optional[TreeNode]) -> int: 
        a, b, c = self.solve(root) 
        return min(a, b)
    
    def solve(self, root):
        if root is None: 
            return float("+inf"), 0, 0 
        
        if root.left is None and root.right is None: 
            return 1, 1, 0 
        
        aL, bL, cL = self.solve(root.left) 
        aR, bR, cR = self.solve(root.right) 
        
        a = 1 + min(aL, bL, cL) + min(aR, bR, cR)
        b = min(aL + aR, aL + bR, aR + bL)
        c = bL + bR
       
        return a, b, c