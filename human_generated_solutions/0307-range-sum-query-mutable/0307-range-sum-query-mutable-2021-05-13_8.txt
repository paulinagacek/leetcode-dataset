class NumArray:

    def __init__(self, nums: List[int]):
        self.diff = {}
        self.nums = nums
        self.prefix = [0]
        for x in nums: self.prefix.append(self.prefix[-1] + x)

    def update(self, i: int, val: int) -> None:
        self.diff[i] = val - self.nums[i]

    def sumRange(self, i: int, j: int) -> int:
        ans = self.prefix[j+1] - self.prefix[i]
        for k, v in self.diff.items():
            if i <= k <= j: ans += v
        return ans