class Solution(object):
    def validIPAddress(self, IP):

        def isIPv4(s):
            try: return str(int(s)) == s and 0 <= int(s) <= 255 #  str(int(s)) == s enforces to drop the leading 0\'s and all numbers a non-characters
            except: return False

        def isIPv6(s):
            if len(s) > 4 : return False # only allows less that 4
            try: return int(s, 16) >= 0 and s[0] != \'-\' and s[0] != \'+\' # to prevent int to conver +xxx or -xxx
            except: return False

        if IP.count(".") == 3 and all(isIPv4(i) for i in IP.split(".")): 
            return "IPv4"
        if IP.count(":") == 7 and all(isIPv6(i) for i in IP.split(":")): 
            return "IPv6"
        return "Neither"