class Solution:
    def shortestPalindrome(self, s: str) -> str:
        n = len(s)
        s1 = s+\'!\'+s[::-1] # new string of length 2n+1
        i,st,lps = 1,0,[0]*(2*n+1)
        while i<=(2*n):
            if s1[i]==s1[st]:st+=1;lps[i]=st;i+=1
            else:
                if st!=0:st=lps[st-1]
                else:lps[i]=0;i+=1
        return s[lps[-1]:][::-1]+s  # final string  = substring after palindroming substring added with original string