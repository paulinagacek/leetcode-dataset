class Solution:
    Inf = float(\'inf\')
    def maxProfit(self, prices):
        buy           = self.Inf
        free,last,now = 0,0,0 # profit values (before the cooldown, in our last step, and now)
        for x in prices:
            now = max(last ,  x - buy )
            buy = min(buy  ,  x - free )
            free,last = last,now
        return now