import numpy as np

def bitmask(w):
    res = 0
    for c in set(w):
        res += (1<<(ord(c)-ord(\'a\')))
    return res

class Solution:
    def findNumOfValidWords(self, words: List[str], puzzles: List[str]) -> List[int]:
        N = len(puzzles)
        pz = np.array([bitmask(p) for p in puzzles], dtype=np.int32)
        p1 = np.array([bitmask(p[:1]) for p in puzzles], dtype=np.int32)
        ans = np.zeros(N, dtype=np.int32)
        for w in words:
            m = bitmask(w)
            l1 = (p1&m).astype(bool)
            l2 = (pz&m)==m
            ans += (l1&l2)
        return [int(x) for x in ans]