class Solution:
    def minStoneSum(self, piles: List[int], k: int) -> int:
        
        import heapq
        
        class MaxHeap:
            
            def __init__(self,arr=[]):
                
                self.heap  = [-p for p in piles] 
                heapq.heapify(self.heap)
            
            def push(self,value):
                
                heapq.heappush(self.heap,-value )
                
            
            def isEmpty(self):
                return len(self.heap) == 0
            
            def pop(self):
                
                if not self.isEmpty():
                    return -heapq.heappop(self.heap)                
                return None
            
            
        
        maxHeap = MaxHeap(piles)
                
        for _ in range(k):
            l = maxHeap.pop()
            n = l // 2            
            maxHeap.push(l-n) 
        
        return abs(sum(maxHeap.heap))