class Solution(object):
    def winnerSquareGame(self, n):


        """
		Precompute all possible sqaure numbers
        """
        def get_squares():
            squares = []
            for i in range(1, int(n ** (0.5)) + 1):
                squares.append(i * i)
            return squares
        
        
        squares = get_squares()
        squares_set = set(squares) # have a set to check if the number is a square so that we can return immediately
        self.cache = {}
        def solve(n):
            if n in squares_set: # No need to check other numbers. Return immediately
                return True
            if n in self.cache:
                return self.cache[n]
			
			 """
			Check for all squares less than n
			"""
            for i in squares:
                if i > n:
                    break

                ans = solve(n - i)
                if not ans: # if the next player loses then we have found the number
                    self.cache[n] = not ans
                    return not ans
            self.cache[n] = False
            return False # We have exhausested all posibilities so return False
        
        return solve(n)