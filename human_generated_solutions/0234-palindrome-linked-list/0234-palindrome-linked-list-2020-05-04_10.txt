# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    
    def reverse_linked_list(self, node: ListNode)-> ListNode:
        
        prev, cur = None, node
        
        while cur:
            
            # backup original next hop
            next_hop = cur.next
            
            # reverse linkage direction
            cur.next = prev
            prev = cur
            
            # move to next position
            cur = next_hop
            
        # new head of reversed linked list
        return prev
    
	# -----------------------------------------------------------------------------
	
    def isPalindrome(self, head: ListNode) -> bool:
        
		# use two-pointers to locate the mid-point of linked list
		
        slow, fast = head, head
        
        while fast and fast.next:
            
            slow = slow.next
            fast = fast.next.next
		
		# skip central node if length of linked list is odd number.
        if fast:
            slow = slow.next
        
        # Reverse the linkage of right half of linked list
        tail = self.reverse_linked_list( slow )
        
        
        # Accept if left half sequence == right half sequence
        # Reject, otherwise
        while tail:
            
            if tail.val != head.val:
                return False
            
            head, tail = head.next, tail.next
        
        return True