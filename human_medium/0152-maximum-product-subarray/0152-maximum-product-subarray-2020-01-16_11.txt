class Solution:
    def maxProduct(self, nums: List[int]) -> int:
        
        size = len(nums)
        
        product_left_to_right = nums
        
        product_right_to_left = nums[::-1]
        
        # update product of two kinds of subarray, 
		# one is extending from left to right, the other is from right to left
        for i in range(1, size):
            
            # extends from left hand side, if meets 0 then restart in-place by itself.
			
            product_left_to_right[i] *= (product_left_to_right[i-1] or 1)
            
			
            # extends from right hand side, if meets 0 then restart in-place by itself
			
            product_right_to_left[i] *= (product_right_to_left[i-1] or 1)
            
			
        return max(max(product_left_to_right), max(product_right_to_left))
