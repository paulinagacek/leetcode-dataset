class TrieNode:
    def __init__(self):
        self.children = [None] * 26
        self.isWord = False


    def addWord(self, word: str, idx: int = 0) -> None:
        if idx == len(word):
            self.isWord = True
            return

        char_idx = ord(word[idx]) - ord(\'a\')

        if self.children[char_idx] is None:
            self.children[char_idx] = TrieNode()

        self.children[char_idx].addWord(word, idx + 1)


    def search(self, word: str, idx: int = 0) -> bool:
        if idx == len(word):
            return self.isWord

        if word[idx] == \'.\':
            for child in self.children:
                if child and child.search(word, idx + 1):
                    return True

            return False

        char_idx = ord(word[idx]) - ord(\'a\')

        if self.children[char_idx] is None:
            return False

        return self.children[char_idx].search(word, idx + 1)


class WordDictionary:
    def __init__(self):
        self.root = TrieNode()


    def addWord(self, word: str) -> None:
        self.root.addWord(word)


    def search(self, word: str) -> bool:
        return self.root.search(word)
        

# Your WordDictionary object will be instantiated and called as such:
# obj = WordDictionary()
# obj.addWord(word)
# param_2 = obj.search(word)
