class Node:
    def __init__(self):
        self.children = collections.defaultdict(Node)
        self.is_word = False
class WordDictionary:

    def __init__(self):
        self.root = Node()
        

    def addWord(self, word: str) -> None:
        curr = self.root
        for letter in word:
            curr = curr.children[letter]
        curr.is_word = True
        
    def _search(self, word, node, i):
        if not node:
            return False
        if i == len(word):
            return node.is_word
        if word[i] == ".":
            return any([self._search(word, n, i+1) for n in node.children.values()])
        else:
            return self._search(word, node.children.get(word[i]), i+1)
            
    def search(self, word: str) -> bool:
        return self._search(word, self.root, 0)
