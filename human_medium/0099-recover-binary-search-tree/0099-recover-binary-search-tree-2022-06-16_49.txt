class Solution:
    """
    approach: 
    we can create an inorder traversal and identify the first inversion
    ie. node with value greater than the next value and we have to replace that node
    with the smallest value on the right of it.
    """
    
    def recoverTree(self, root: Optional[TreeNode]) -> None:
        self.inorder = []
        def inorder(root):
            if root is None:
                return
            
            inorder(root.left)
            self.inorder.append(root)
            inorder(root.right)
            
        inorder(root)
        for i in range(len(self.inorder)-1):
            if self.inorder[i].val > self.inorder[i+1].val:
                first_pos = i
                break
        
        min_so_far = float(\'inf\')
        min_index = -1
        for j in range(i+1, len(self.inorder)):
            if self.inorder[j].val < min_so_far:
                min_so_far = self.inorder[j].val
                min_index = j
        self.inorder[min_index].val = self.inorder[i].val
        self.inorder[i].val = min_so_far
