class Solution:
    def recoverTree(self, root: Optional[TreeNode]) -> None:
        """
        Do not return anything, modify root in-place instead.
        """
        
        def inorder(node):
            if node is None:
                return
            yield from inorder(node.left)
            yield node
            yield from inorder(node.right)
            
        prev, first, second = None, None, None
        for node in inorder(root):
            if prev is not None and first is None and prev.val >= node.val:
                first = prev
            if first is not None and first.val >= node.val:
                second = node
            prev = node
            
        first.val, second.val = second.val, first.val
        # Time: O(n)
        # Space: O(h)
