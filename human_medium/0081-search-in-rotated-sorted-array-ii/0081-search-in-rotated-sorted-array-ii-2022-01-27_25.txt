class Solution:
    
    """
    Similar to leetcode 33 (except with dups):
    There is always at least 1 half of the array where the values are increasing. 
    2. We want to find that half, and then see if the target is inside that subsection.
    
    Therefore we can use binary search.
    """
    def search(self, nums: List[int], target: int) -> int:
        l = 0
        r = len(nums) - 1
        
        while l <= r:
            m = (l + r) // 2
            
            if nums[m] == target:
                return True
            
            if nums[l] < nums[m]:
                # target is in strictly increasing part in left
                if target >= nums[l] and target <= nums[m]:
                    r = m - 1
                else:
                    l = m + 1
            elif nums[l] > nums[m]:
                # target is in strictly increasing part in right
                if target >= nums[m] and target <= nums[r]:
                    l = m + 1
                else:
                    r = m - 1
            else:
                l = l + 1
                    
        return False
