class Solution:
    def copyRandomList(self, head: \'Optional[Node]\') -> \'Optional[Node]\':
        dummy = point = Node(0, next=head)
        
        # First, we map A -> B -> ... to A -> A\' -> B -> B\' -> ...
        i = 0
        while point:
            if i == 1:
                point.next = Node(point.val, point.next, point.random)
            point = point.next 
            i = 1 - i
            
        # Next we push all random pointers to the next node (guaranteeing it\'s a copy)
        point = dummy.next 
        while point:
            if point.random:
                point.random = point.random.next 
            point = point.next
            
        # Finally we map from A -> A\' -> B -> B\' -> ... to A\' -> B\' -> ...
        point = dummy
        while point:
            if point.next:
                point.next = point.next.next
            point = point.next
            
        return dummy.next
