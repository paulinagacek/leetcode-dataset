class Solution:
    def copyRandomList(self, head: \'Optional[Node]\') -> \'Optional[Node]\':
        # Create a hashmap to tell us whether we clone this node
        oldToCopy = {} #Original -> Copy
        
        # Using dfs to traverse node, and make copy of it
        def dfs(node):
            # Base cases
            if node is None:
                return node
            if node in oldToCopy:
                return oldToCopy[node]
            # Create a copy of current node
            copyNode = Node(node.val)
            oldToCopy[node] = copyNode
            # DFS clone node\'s next and random
            copyNode.next = dfs(node.next)
            copyNode.random = dfs(node.random)
            
            return copyNode
        
        return dfs(head)
