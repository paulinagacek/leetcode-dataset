def copyRandomList(self, head: \'Node\') -> \'Node\':
    if not head:
        return None
    temp=head
    # copying nodes and inserting in between nodes
    # 2->3->4 becomes 2->2->3->3->4->4
    while temp:
        copy=Node(temp.val)
        copy.next=temp.next
        temp.next=copy
        temp=copy.next
    temp=head
    # copying random pointers
    # this can\'t be combined with previous loop because it requiires the existence of copies nodes
    while temp:
        copy=temp.next
        copy.random=temp.random.next if temp.random else None
        temp=copy.next
    temp=head
    newHead=head.next
    # detaching the copied nodes
    while temp:
        copy=temp.next
        temp.next=copy.next
        copy.next=copy.next.next if copy.next else None
        temp=temp.next
    return newHead
