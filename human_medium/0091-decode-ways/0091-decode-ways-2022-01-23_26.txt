class Solution:
    @lru_cache(maxsize=None)
    def canMap(self,s) -> bool:
        if s=="" or (s[0]!="0" and 1<=int(s)<=26):
            return True
        return False
    @lru_cache(maxsize=None)
    def numDecodings(self, s: str) -> int:
        if len(s)<=1:
            return int(self.canMap(s))
        ways=0
        if self.canMap(s[0]):
            ways+=self.numDecodings(s[1:])  
        if self.canMap(s[:2]):
            ways+=self.numDecodings(s[2:])
        return ways
