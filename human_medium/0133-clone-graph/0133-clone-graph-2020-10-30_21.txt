class Solution:
    def cloneGraph(self, node: \'Node\') -> \'Node\':
        def clone(cur):
            
            if not cur:
                return False
            
            if cur.val in m:
                return m[cur.val]
            else:
                n = m[cur.val] = Node(cur.val)
            
            for neigh in cur.neighbors:
                n.neighbors.append(clone(neigh))
            return m[cur.val]
		
		m = {}
        return m[node.val] if clone(node) else None
