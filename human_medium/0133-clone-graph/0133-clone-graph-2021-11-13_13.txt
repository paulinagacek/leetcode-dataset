class Solution:
    def cloneGraph(self, node: \'Node\') -> \'Node\':
        vist= {}
        def helper(node):
            if node:
                cp= Node(node.val)
                vist[node]=cp

                for neighbor in node.neighbors:      
                    if neighbor in vist: # copy of n has been created, just get it 
                        cp.neighbors.append(vist[neighbor])
                    else: #the neighbor need to be created
                        cp.neighbors.append(helper(neighbor))
                #print(cp.val, [x.val for x in cp.neighbors])
                return cp
        
        rst =  helper(node)
        return rst
