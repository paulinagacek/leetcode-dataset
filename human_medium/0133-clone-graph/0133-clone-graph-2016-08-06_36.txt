class Solution(object):
    def cloneGraph(self, node, d={}):
        def f(node):
            if node in d:
                return d[node]
            d[node] = node2 = UndirectedGraphNode(node.label)
            node2.neighbors = map(f, node.neighbors)
            return node2
        return f(node) if node else None
