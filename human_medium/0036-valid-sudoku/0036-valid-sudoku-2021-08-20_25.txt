class Solution:
    def isValidSudoku(self, board: List[List[str]]) -> bool:
        rows = [set() for _ in  range(9)]
        cols = [set() for _ in  range(9)]
        boxes = [set() for _ in  range(9)]
        for irow, icol in product(range(9), range(9)):
            ibox = irow // 3 * 3 + icol // 3
            val = board[irow][icol]
            if val == \'.\':
                continue
            if val in rows[irow] or val in cols[icol] or val in boxes[ibox]:
                return False
            rows[irow].add(val)
            cols[icol].add(val)
            boxes[ibox].add(val)
        return True
