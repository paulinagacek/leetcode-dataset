class Solution:
    def zigzagLevelOrder(self, root: Optional[TreeNode]) -> List[List[int]]:
        if not root :
            return
        q = collections.deque([root])
        flag = 1
        ans = []
        while q :
            n = len(q)
            curr = []
            for i in range(n) :
                temp = q.popleft()
                curr.append(temp.val)
                if temp.left :
                    q.append(temp.left)
                if temp.right :
                    q.append(temp.right)
            
            if flag :
                ans.append(curr)
            else :
                ans.append(curr[::-1])
            flag ^= 1
        return ans
