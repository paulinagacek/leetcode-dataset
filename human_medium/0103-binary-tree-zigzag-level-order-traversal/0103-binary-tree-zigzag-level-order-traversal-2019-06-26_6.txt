class Solution:
    def zigzagLevelOrder(self, root: TreeNode) -> List[List[int]]:
        if not root:
            return []
        
        res = []
        queue = []
        
        queue.append((root,1))
        while queue:
            n = len(queue)
            nodeList = []
            for _ in range(n):
                curNode, level = queue.pop(0)
                if level%2 == 1:
                    nodeList.append(curNode.val)
                else:
                    nodeList.insert(0,curNode.val)
                
                if curNode.left: queue.append((curNode.left,level+1))
                if curNode.right: queue.append((curNode.right,level+1))
            
            res.append(nodeList)
        
        return res
