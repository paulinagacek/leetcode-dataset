class Solution:
    def connect(self, root: \'Optional[Node]\') -> \'Optional[Node]\':
	
	#if tree is empty
        if not root:
            return
			
		#if tree has only one value
        if not root.left or not root.right:
            return root
			
        flag = False       #to assign the very first node.next = None
        def dfs(root):
            nonlocal flag

            if not root.left or not root.right:    #if node has no left and right child
                return
				
            if not flag:
                root.next = None
                flag = True
				
            root.left.next = root.right
			
            if not root.next:     # if you have traversed all the node of a particular node
                root.right.next = None
            else:
                root.right.next = root.next.left
				
            dfs(root.left)
            dfs(root.right)
			
        dfs(root)
        return root
