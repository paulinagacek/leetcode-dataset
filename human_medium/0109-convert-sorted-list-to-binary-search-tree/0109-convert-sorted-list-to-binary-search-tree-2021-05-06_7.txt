class Solution:
    def sortedListToBST(self, head: ListNode) -> TreeNode:
        arr = []
        while head:
            arr.append(head.val)
            head = head.next
		
        def dfs(l, r):
            if l > r: return None
            mid = l + (r - l) // 2
            return TreeNode(arr[mid], dfs(l, mid-1), dfs(mid+1, r))
		
        return dfs(0, len(arr)-1)
