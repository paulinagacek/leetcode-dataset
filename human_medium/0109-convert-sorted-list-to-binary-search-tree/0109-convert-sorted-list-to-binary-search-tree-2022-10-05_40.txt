class Solution:
    def sortedListToBST(self, head: Optional[ListNode]) -> Optional[TreeNode]:
        if head==None:
            return None
        prev=None
        fast,slow=head,head
        while fast and fast.next:
            fast=fast.next.next
            prev=slow
            slow=slow.next
        if prev:prev.next=None
        leftRoot=head if prev else None
        rightRoot=slow.next
        slow.next=None
        root=TreeNode(slow.val)
        root.left=self.sortedListToBST(leftRoot)
        root.right=self.sortedListToBST(rightRoot)
        return root
