class Solution {
//Please Upvote if you like the approach ,it motivates me to write more solutions !!
public:
    TreeNode* sortedListToBST(ListNode* head) {
        if(head==NULL){  //this is the edge case
            return NULL;
        }
        if(head->next==NULL){
            TreeNode *root=new TreeNode(head->val);
            return root; //if the list contains only one element
        }
        ListNode* slow=head;
        ListNode* prev=head;
        ListNode* fast=head;
        while(fast!=NULL and fast->next!=NULL){
            prev=slow;
            slow=slow->next;
            fast=fast->next->next;
//hare tortoise algorithm to find the middle of the linked lists;
        }
        prev->next=NULL; 
// break the linked lists into two halves;
        TreeNode *root=new TreeNode(slow->val); //this will be our root;
        root->left=sortedListToBST(head);
//this will be our left subtree of the root;
        root->right=sortedListToBST(slow->next);
//this will be our right subtree of the root;
        return root;
    }
};
