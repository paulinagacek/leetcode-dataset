class Solution:
    def partition(self, head: Optional[ListNode], x: int) -> Optional[ListNode]:

        # extract the numbers into a list
        arr = []
        while head:
            arr.append(int(head.val))
            head = head.next

        left = []  # stores numbers less than x
        right = [] # stores numbers greater than equal to x
        for i in arr:
            if i < x:
                left.append(i)
            else:
                right.append(i)
        
        # add both the lists while maintaining the order of occurance of the numbers
        left += right
        
        # creation of the new linked list
        ans = ListNode(-1)
        h = ans
        for i in left:
            k = ListNode(i)
            ans.next = k
            ans = ans.next
        
        return h.next
