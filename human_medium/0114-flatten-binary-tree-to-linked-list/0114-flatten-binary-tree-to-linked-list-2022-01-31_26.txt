class Solution:
    def flatten(self, root: Optional[TreeNode]) -> None:
        """
            Preorder traverse and build new tree
        """
        if not root:
            return
        
        values = []
        
        def preorder_helper(root):
            if not root:
                return
            
            values.append(root)
            preorder_helper(root.left)
            preorder_helper(root.right)
            
        preorder_helper(root)
        
        values[-1].left = None
        values[-1].right = None
        
        for i in range(0, len(values)-1):
            values[i].left = None
            values[i].right = values[i+1]
