class Solution(object):
    def merge(self, intervals):
        """
        :type intervals: List[List[int]]
        :rtype: List[List[int]]
        """
        heap =[]
        res = []
        intervals.sort()
        for i in intervals:
            if not heap:
                heapq.heappush(heap, i)
            elif heap[0][1]>=i[0]:
                    m, n = heapq.heappop(heap)
                    
                    heapq.heappush( heap, [min(m, i[0]), max(i[1], n)])
            else:
                res.append(heapq.heappop(heap))
                heapq.heappush(heap, i)
        
        if heap:
            res.extend(heap)
        print(res)
        return res
