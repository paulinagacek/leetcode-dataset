class Solution:
    def findOrder(self, numCourses: int, prerequisites: List[List[int]]) -> List[int]:
        adj=defaultdict(lambda: [])
        
        for item in prerequisites:
            adj[item[1]].append(item[0])
            
        color=[0]*numCourses
        
        nodes=[]
        
        def dfs(v):
            
            nonlocal nodes
            color[v]=1
            
            for child in adj[v]:
                
                if color[child]==1:
                    return
                
                if color[child]==0:
                    dfs(child)
                    
            nodes+=[v]
            color[v]=2
            
        
        for node in range(numCourses):
            if color[node]==0:
                dfs(node)
                
        return nodes[::-1] if len(nodes)==len(adj) else []
