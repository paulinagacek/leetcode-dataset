class Solution:
    def longestPalindrome(self, s: str) -> str:
        if len(s) == 1: return s
        modified = \'#\' + \'#\'.join(list(s)) + \'#\'
        lengths = [0 for i in range(len(modified))]
        maxCenter, maxRadius, rightCenter, rightRadius = 0, 0, 0, 0
        for i in range(len(modified)):
            lengths[i] = min(rightRadius - i, lengths[rightCenter * 2 - i]) if i < rightRadius else 0
            while i - lengths[i] - 1 >= 0 and i + lengths[i] + 1 < len(modified) and modified[i - lengths[i] - 1] == modified[i + lengths[i] + 1]:
                lengths[i] += 1
            if lengths[i] >= maxRadius:
                maxRadius, maxCenter = lengths[i], i
            if lengths[i] + i > rightRadius:
                rightRadius, rightCenter = lengths[i] + i, i
        res = \'\'
        for i in range(maxCenter - maxRadius, maxCenter + maxRadius + 1):
            if modified[i] != \'#\': res += modified[i]
        return res
