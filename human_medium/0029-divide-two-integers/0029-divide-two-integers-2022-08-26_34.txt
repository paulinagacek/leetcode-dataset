class Solution:
    def divide(self, dividend: int, divisor: int) -> int:
        # consider sign
        if (dividend > 0 and divisor > 0) or (dividend < 0 and divisor < 0):
            sign = 1
        else:
            sign = -1
        dividend = abs(dividend)
        divisor = abs(divisor)
        
        if divisor > dividend:
            return 0
            
        divisor_shifted = divisor
        num_shift = 0
        while num_shift < 31 and divisor_shifted <= dividend:
            divisor_shifted <<= 1
            num_shift += 1
        if divisor_shifted > dividend:
            # shift back once
            num_shift -= 1
			divisor_shifted >>= 1
        if num_shift >= 31:
            if sign == 1:
                # 1 << 31 == 2 ** 31
                return (1 << 31) - 1
            else:
                return - (1 << 31)
				
        quotient = 1 << num_shift
        # recursively
        quotient += self.divide(dividend - divisor_shifted, divisor)
		
        return quotient * sign
