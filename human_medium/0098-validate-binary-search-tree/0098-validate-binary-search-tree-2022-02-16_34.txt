class Solution:
    def isValidBST(self, root: Optional[TreeNode]) -> bool:
        lower, upper = float(\'-inf\'), float(\'inf\')
        return self.divideConquer(root, lower, upper)
    
    def divideConquer(self, root, lower, upper):
        
        if not root:
            return True
        
        return root.val < upper and root.val > lower and \\
            self.divideConquer(root.left, lower, root.val) and self.divideConquer(root.right, root.val, upper)
