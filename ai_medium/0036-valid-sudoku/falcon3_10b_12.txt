class Solution:
    def isValidSudoku(self, board: List[List[str]]) -> bool:
        rows = [{} for _ in range(9)]
        cols = [{} for _ in range(9)]
        boxes = [{} for _ in range(9)]

        def check(x, y, val):
            if (val in rows[x] or val in cols[y] or val in boxes[(3*(x//3) + (y//3))]):
                return False
            rows[x][val] = cols[y][val] = boxes[(3*(x//3) + (y//3))][val] = True
            return True

        for i in range(9):
            for j in range(9):
                if board[i][j] != '.':
                    val = int(board[i][j])
                    if not check(i, j, val):
                        return False
                    board[i][j] = '.'  # Reset for next iteration
        return True
