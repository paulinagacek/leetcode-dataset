class Solution:
    def rotateRight(self, head: Optional[ListNode], k: int) -> Optional[ListNode]:
        if not head or not head.next or k == 0:
            return head
        
        # 1. Calculate the length of the list and locate the tail node
        length = 1
        curr = head
        while curr.next:
            curr = curr.next
            length += 1
            
        # 2. Optimize k: rotations of length n result in the same list
        k = k % length
        if k == 0:
            return head
            
        # 3. Make the linked list circular
        curr.next = head
        
        # 4. Find the new tail: (length - k) steps from the current tail
        # Example: [1, 2, 3, 4, 5], k=2. Length=5, steps=3.
        # Starting at 5: Step 1 -> 1, Step 2 -> 2, Step 3 -> 3. New tail is 3.
        steps_to_new_tail = length - k
        new_tail = curr
        for _ in range(steps_to_new_tail):
            new_tail = new_tail.next
            
        # 5. Set the new head and break the circular connection
        new_head = new_tail.next
        new_tail.next = None
        
        return new_head
