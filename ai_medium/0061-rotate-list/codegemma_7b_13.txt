class Solution:
    def rotateRight(self, head: Optional[ListNode], k: int) -> Optional[ListNode]:
        
        if not head or not head.next:
            return head

        # Calculate the length of the linked list
        length = 1
        curr = head
        while curr.next:
            curr = curr.next
            length += 1
        
        # Adjust k to account for the linked list length
        k %= length
        
        # Create dummy node to help with rotation
        dummy = ListNode()
        dummy.next = head
        
        # Initialize slow and fast pointers for rotation
        slow, fast = dummy, dummy
        
        # Move fast pointer k steps ahead
        for _ in range(k):
            fast = fast.next
        
        # Advance both pointers until fast reaches the end of the list
        while fast.next:
            slow, fast = slow.next, fast.next
        
        # Disconnect the tail node and connect it to the head
        tail = slow.next
        slow.next = None
        fast.next = head
        
        return dummy.next
