class Solution:
    def recoverTree(self, root: Optional[TreeNode]) -> None:
        self.x = None
        self.y = None
        self.pred = TreeNode(float('-inf'))
        
        def inOrder(node):
            if not node:
                return
            inOrder(node.left)
            
            if self.pred.val > node.val:
                self.y = node
                if not self.x:
                    self.x = self.pred
            self.pred = node
            inOrder(node.right)
        
        inOrder(root)
        self.x.val, self.y.val = self.y.val, self.x.val
