class Solution:
    def pathSum(self, root: Optional[TreeNode], targetSum: int) -> List[List[int]]:
        result = []
        path = []

        def dfs(node, remainingSum):
            if node is None:
                return
            path.append(node.val)
            remainingSum -= node.val

            if node.left is None and node.right is None and remainingSum == 0:
                result.append(path[:])
            else:
                dfs(node.left, remainingSum)
                dfs(node.right, remainingSum)

            path.pop()

        dfs(root, targetSum)
        return result
