class WordDictionary:

    def __init__(self):
        # Initialize a dictionary to serve as the root of the Trie.
        self.root = {}

    def addWord(self, word: str) -> None:
        # Traverse the Trie and create nodes for each character in the word.
        node = self.root
        for char in word:
            if char not in node:
                node[char] = {}
            node = node[char]
        # Mark the end of a word with a special character.
        node['$'] = True

    def search(self, word: str) -> bool:
        # Helper function for depth-first search in the Trie.
        def dfs(idx, curr_node):
            for i in range(idx, len(word)):
                char = word[i]
                if char == '.':
                    # If the character is a wildcard, try all possible matching child nodes.
                    for key, next_node in curr_node.items():
                        if key != '$' and dfs(i + 1, next_node):
                            return True
                    return False
                else:
                    # If the character is not in the Trie, return False.
                    if char not in curr_node:
                        return False
                    curr_node = curr_node[char]
            
            # After the loop, check if the current node marks the end of a complete word.
            return '$' in curr_node

        return dfs(0, self.root)
