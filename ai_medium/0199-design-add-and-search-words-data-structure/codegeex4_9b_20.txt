class WordDictionary:

    def __init__(self):
        """
        Initialize your data structure here.
        """
        self.trie = {}


    def addWord(self, word: str) -> None:
        """
        Adds a word into the data structure.
        """
        node = self.trie
        for char in word:
            if char not in node:
                node[char] = {}
            node = node[char]
        node['$'] = '$'  # Mark the end of a word


    def search(self, word: str) -> bool:
        """
        Returns true if the word is in the data structure. A word could contain the dot character '.' to represent any one letter.
        """
        return self.dfs(word, 0, self.trie)


    def dfs(self, word, index, trie):
        if index == len(word):
            return '$' in trie

        char = word[index]
        if char == '.':
            for next_char in trie:
                if self.dfs(word, index + 1, trie[next_char]):
                    return True
            return False
        else:
            if char not in trie:
                return False
            return self.dfs(word, index + 1, trie[char])
