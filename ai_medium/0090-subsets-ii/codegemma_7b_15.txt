class Solution:
    def subsetsWithDup(self, nums: List[int]) -> List[List[int]]:
        nums.sort()
        res = [[]]
        temp = []
        for i in range(len(nums)):
            s = set()
            if i > 0 and nums[i] == nums[i - 1]:
                for l in res:
                    s.add(tuple(l + [nums[i]]))
            else:
                for l in res:
                    s.add(tuple(l + [nums[i]]))
            res = list(s)
        return res
