class Solution:
    def rightSideView(self, root: Optional[TreeNode]) -> List[int]:
        if not root:
            return []

        queue = [(root, 0)]
        right_view = []
        max_level = -1

        while queue:
            node, level = queue.pop(0)

            if level > max_level:
                max_level = level
                right_view.append(node.val)

            if node.right:
                queue.append((node.right, level + 1))
            if node.left:
                queue.append((node.left, level + 1))

        return right_view
