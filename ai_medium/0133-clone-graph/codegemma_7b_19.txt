from collections import deque

class Node:
    def __init__(self, val = 0, neighbors = None):
        self.val = val
        self.neighbors = neighbors if neighbors is not None else []

def cloneGraph(node: Optional['Node']) -> Optional['Node']:
    if not node:
        return None

    queue = deque([node])
    visited = {node.val: Node(node.val)}

    while queue:
        curr = queue.popleft()

        for neighbor in curr.neighbors:
            if neighbor.val not in visited:
                visited[neighbor.val] = Node(neighbor.val)
                queue.append(neighbor)

            visited[curr.val].neighbors.append(visited[neighbor.val])

    return visited[node.val]
